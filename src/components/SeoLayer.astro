---
import { getProducts, getProjects, getBlogs } from "../lib/microcms";

// Fetch data for the SEO layer
const { contents: products } = await getProducts();
const { contents: projects } = await getProjects();
// const { contents: blogs } = await getBlogs(); // If needed

interface Props {
    pageTitle?: string;
    pageDescription?: string;
}

const {
    pageTitle = "想",
    pageDescription = "人を想い　世界を想い　宇宙を想う\n360はデジタルで　”想”　を実現します",
} = Astro.props;
---

<div id="seo-layer" class="seo-layer" aria-hidden="false">
    <header>
        <h1>{pageTitle}</h1>
        <p>{pageDescription}</p>
    </header>

    <div class="seo-content">
        <section aria-label="Solutions">
            <h2>Solutions</h2>
            <p>デジタルで”想う””寄り添う”を実現する</p>

            <div class="product-list">
                {
                    products.map((product) => (
                        <article>
                            <h3>{product.title}</h3>
                            <p>{product.description}</p>
                            {/* Hidden geographic info for MEO */}
                            <div class="geo-location" style="display:none;">
                                <span class="region">Japan</span>
                                <span class="region">Global</span>
                                <span class="city">Nara</span>
                                <span class="city">Tokyo</span>
                            </div>
                        </article>
                    ))
                }
            </div>
        </section>

        <section aria-label="Projects">
            <h2>Latest Projects</h2>
            <ul>
                {
                    projects.map((project) => (
                        <li>
                            <h3>{project.title}</h3>
                            <p>{project.description}</p>
                        </li>
                    ))
                }
            </ul>
        </section>

        <section aria-label="Company Info">
            <h2>360 Inc.</h2>
            <p>
                最先端のデジタルソリューションを提供するクリエイティブエージェンシー
            </p>
            <address>Nara, Japan</address>
        </section>
    </div>
</div>

<style>
    .seo-layer {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -100;
        opacity: 0; /* Visually hidden but accessible to bots */
        pointer-events: none; /* Prevent interaction */
        overflow: hidden;
    }
</style>
